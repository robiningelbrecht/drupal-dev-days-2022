<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />

    <title>Setting up a solid GitHub CI/CD</title>

    <meta name="author" content="Hakim El Hattab" />

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="assets/favicon.ico" />

    <link rel="stylesheet" href="dist/reset.css" />
    <link rel="stylesheet" href="dist/reveal.css" />
    <link rel="stylesheet" href="dist/theme/drupal-dev-days.css" id="theme" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Miriam+Libre:wght@400;700&display=swap" rel="stylesheet" />

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="plugin/highlight/zenburn.css" />
</head>

<body>
    <div class="reveal">
        <div class="slides">
            <!-- INTRO -->
            <section data-background-image="assets/background-intro.svg" data-background-color="#000" data-background-position="50% 50%" data-state="intro">
                <h2>
                    <span style="color: #ff233e">Setting up</span>
                    <span style="color: #8bc53f">a solid</span>
                    <span style="color: #2aabe2">Github CI/CD</span>
                </h2>
            </section>
            <!-- ABOUT ME -->
            <section>
                <h2>Hello, nice to meet you üëã</h2>
                <ul>
                    <li>I'm a PHP developer</li>
                    <li>Employed at <span style="color: #dc1f26"><strong>Baldwin</strong></span></li>
                    <li>Long time Drupal developer</li>
                    <li>
                        Questions / Want to talk?
                        <ul>
                            <li>
                                <a href="https://www.linkedin.com/in/robin-ingelbrecht/"
                                    target="_blank">https://www.linkedin.com/in/robin-ingelbrecht/</a>
                            </li>
                            <li>
                                <a href="https://github.com/robiningelbrecht"
                                    target="_blank">https://github.com/robiningelbrecht</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </section>
            <!-- SESSION OUTLINE -->
            <section>
                <h2>Session outline</h2>
                <ul>
                    <li>Introduction to GitHub actions</li>
                    <li>Have a quick glance at the code</li>
                    <li>Setting up a repository</li>
                    <li>Configuring a CI/CD workflow</li>
                    <li>Configuring a build & deploy workflow</li>
                    <li>Hungry for more? üçî</li>
                </ul>
            </section>
            <!-- DEMO REPOSITORY -->
            <section>
                <h2>Demo repository</h2>
                <p>A fully working example is available at <a
                        href="https://github.com/robiningelbrecht/continuous-integration-example"
                        target="_blank">https://github.com/robiningelbrecht/continuous-integration-example</a></p>
            </section>
            <!-- CI / CD -->
            <section>
                <!-- CI / CD - INTRO -->
                <section>
                    <h2>CI/CD, what's up with that?</h2>
                    <p><small>Acronyms for</small>
                    <ul>
                        <li>Continuous integration</li>
                        <li>Continuous delivery / deployment</li>
                    </ul>
                    </p>

                </section>
                <!-- CI -->
                <section>
                    <h2>Continuous integration</h2>

                    <blockquote
                        cite="https://www.atlassian.com/continuous-delivery/principles/continuous-integration-vs-delivery-vs-deployment">
                        DevOps best practice where developers <u>frequently merge</u> code changes
                        into a central repository where <u>automated builds and tests</u> run.
                    </blockquote>
                </section>
                <!-- CD -->
                <section>
                    <h2>Continuous delivery</h2>

                    <blockquote
                        cite="https://www.atlassian.com/continuous-delivery/principles/continuous-integration-vs-delivery-vs-deployment">
                        An <u>automated release</u>process where you can deploy your application any time by clicking a
                        button.
                    </blockquote>
                </section>
            </section>
            <!-- GITHUB ACTIONS -->
            <section>
                <!-- GITHUB ACTIONS - INTRO -->
                <section>
                    <h2>GitHub actions</h2>
                    <p>
                        A CI/CD platform that allows you to
                    </p>
                    <ul>
                        <li>Automate your tests</li>
                        <li>Automate your builds</li>
                        <li>Automate your deployment pipeline</li>
                    </ul>
                    <p>
                        <small><a
                                href="https://docs.github.com/en/actions/learn-github-actions/understanding-github-actions"
                                target="_blank">https://docs.github.com/en/actions/learn-github-actions/understanding-github-actions</a>
                        </small>
                    </p>
                </section>
                <!-- GITHUB ACTIONS - WORKFLOWS -->
                <section>
                    <h2>Workflows</h2>
                    <ul>
                        <li>Configurable automated process (YAML)</li>
                        <li>Triggered by an event, manually, or at a defined schedule</li>
                        <li>Will run one or more jobs</li>
                    </ul>
                </section>
                <!-- GITHUB ACTIONS - RUNNERS -->
                <section>
                    <h2>Runners</h2>
                    <p>A runner is a server that runs your workflows when they're triggered</p>
                    <ul>
                        <li>Ubuntu Linux</li>
                        <li>Microsoft Windows</li>
                        <li>macOS</li>
                        <li>Self-hosted</li>
                    </ul>
                    <p><small> <a href="https://docs.github.com/en/actions/hosting-your-own-runners"
                                target="_blank">https://docs.github.com/en/actions/hosting-your-own-runners</a></small>
                    </p>
                </section>
                <!-- GITHUB ACTIONS - EVENTS -->
                <section>
                    <h2>Events</h2>
                    <p>An event is a specific activity in a repository that triggers a workflow run</p>
                    <ul>
                        <li>PR is created</li>
                        <li>Issue was openend</li>
                        <li>Commit was pushed</li>
                    </ul>
                    <p>
                        <small>
                            <a href="https://docs.github.com/en/actions/reference/events-that-trigger-workflows"
                                target="_blank">https://docs.github.com/en/actions/reference/events-that-trigger-workflows</a>
                        </small>
                    </p>
                </section>
                <!-- GITHUB ACTIONS - JOBS -->
                <section>
                    <h2>Jobs</h2>
                    <p>Contains a set of steps that execute on the same runner. Each step is either a</p>
                    <ul>
                        <li>shell script</li>
                        <li>a pre-defined action</li>
                    </ul>
                    <p>Steps are executed in order and are dependent on each other</p>
                </section>
                <!-- GITHUB ACTIONS - EXAMPLE -->
                <section>
                    <h2>Example</h2>
                    <div class="small">
                        <pre>
                            <code class="yaml" data-line-numbers data-trim data-noescape>
                                name: learn-github-actions
                                on: [push] # Event
                                jobs:
                                    install-dependencies:
                                    runs-on: ubuntu-latest # Runner
                                        steps: # Actions
                                        - name: Setup PHP 8.1 with Xdebug 3.x # Pre-defined action
                                            uses: shivammathur/setup-php@v2
                                            with:
                                            php-version: '8.1'
                                            coverage: xdebug

                                        - name: Install dependencies # Shell script
                                            run: composer install --prefer-dist                    
                            </code>
                            </pre>
                    </div>
                </section>
            </section>
            <!-- THE CODE -->
            <section>
                <!-- THE CODE - INTRO -->
                <section>
                    <h2>Pizza anyone? üçï</h2>
                    <p>Small and easy testable app to order pizza</p>
                    <ul>
                        <li>Decorator pattern</li>
                        <li>Builder Pattern</li>
                        <li>Factory Pattern</li>
                    </ul>
                    <p>
                        <small>
                            <a
                                href="https://github.com/robiningelbrecht/continuous-integration-example/tree/master/src">https://github.com/robiningelbrecht/continuous-integration-example/tree/master/src</a>
                        </small>
                    </p>
                </section>
                <!-- THE CODE - DECORATOR PATTERN -->
                <section>
                    <h2>Decorator pattern</h2>
                    <div class="small">
                        <pre>
                            <code class="php" data-line-numbers data-trim data-noescape>
                                $pizza = new ExtraCheese(new Pepperoni(new BasicPizza(Size::MEDIUM, Crust::THIN)));

                                $pizza->getPrice(); 
                                // [
                                //   "amount": "1575",
                                //   "currency": "EUR"  
                                // ]
                                        
                                $pizza->getDescription();
                                // Medium pizza, Thin crust, Tomato sauce, Cheese, Extra cheese, Pepperoni
                            </code>
                        </pre>
                    </div>
                    <blockquote>
                        <small>
                            Using decorators you can wrap objects countless number of times since both target objects
                            and
                            decorators follow the same interface. The resulting object will get a stacking behavior of
                            all wrappers.
                        </small>
                    </blockquote>
                </section>
                <!-- THE CODE - BUILDER PATTERN -->
                <section>
                    <h2>Builder pattern</h2>
                    <div class="small">
                        <pre>
                            <code class="php" data-line-numbers data-trim data-noescape>
                                $pizza = PizzaBuilder::fromSizeAndCrust(Size::MEDIUM, Crust::THIN)
                                  ->withToppings(
                                      Topping::EXTRA_CHEESE, 
                                      Topping::PEPPERONI
                                    )
                                  ->build();

                                  $pizza->getPrice(); 
                                  // [
                                  //   "amount": "1575",
                                  //   "currency": "EUR"  
                                  // ]
                                          
                                  $pizza->getDescription();
                                  // Medium pizza, Thin crust, Tomato sauce, Cheese, Extra cheese, Pepperoni                                 
                            </code>
                        </pre>
                    </div>
                    <blockquote>
                        <small>
                            Builder is a creational design pattern, which allows constructing complex objects step by
                            step.
                        </small>
                    </blockquote>
                </section>
                <!-- THE CODE - FACTORY PATTERN -->
                <section>
                    <h2>Factory pattern</h2>
                    <div class="small">
                        <pre>
                            <code class="php" data-line-numbers data-trim data-noescape>
                                  $pizza = PizzaFactory::pepperoni(Size::MEDIUM, Crust::THIN)

                                  $pizza->getPrice(); 
                                  // [
                                  //   "amount": "1575",
                                  //   "currency": "EUR"  
                                  // ]
                                          
                                  $pizza->getDescription();
                                  // Medium pizza, Thin crust, Tomato sauce, Cheese, Extra cheese, Pepperoni                                 
                            </code>
                        </pre>
                    </div>
                    <blockquote>
                        <small>
                            (Abstract) Factory is a creational design pattern, which solves the problem of creating
                            entire product families without specifying their concrete classes.
                        </small>
                    </blockquote>
                </section>
            </section>
            <!-- REPOSITORY SETTINGS -->
            <section>
                <!-- REPOSITORY SETTINGS - INTRO -->
                <section>
                    <h2>Configure your repository</h2>

                    <ul>
                        <li>Set up a default branch</li>
                        <li>Add branch protection rules</li>
                        <li>Configure issue & PR templates (optional)</li>
                    </ul>
                </section>
                <!-- REPOSITORY SETTINGS - DEFAULT BRANCH -->
                <section>
                    <h2>The default branch</h2>
                    <p>
                        You can set the default branch to whatever you want, but usually "main" or "master" are used.
                    </p>
                    <img src="assets/default-branch.png" alt="Default branch" />
                    <p>
                        <small>https://github.com/username/repository/settings/branches</small>
                    </p>
                </section>
                <!-- REPOSITORY SETTINGS - BRANCH PROTECTION RULES -->
                <section>
                    <h2>Branch protection rules</h2>
                    <p><small>Important to ensure code quality and have a solid CI</small></p>
                    <ul>
                        <li>Disable force pushing</li>
                        <li>Prevent branches from being deleted</li>
                        <li>Rrequire status checks before merging</li>
                    </ul>
                </section>
                  <!-- REPOSITORY SETTINGS - BRANCH PROTECTION RULES -->
                <section>
                    <h2>Branch protection rules</h2>
                    <img src="assets/branch-protection-rules.png" alt="Branch protection rules" />
                    <p>
                        <small> All other options should stay unchecked... for now üòé</small>
                    </p>
                </section>
                     <!-- REPOSITORY SETTINGS - ISSUE AND PR TEMPLATES -->
                     <section>
                        <h2>Issue & PR templates</h2>
                        <p>TODO</p>
                    </section>
            </section>
            <!-- THANK YOU - PLATINUM SPONSORS -->
            <section data-background-image="assets/background-platinum-sponsors.png"></section>
            <!-- THANK YOU - OTHER SPONSORS -->
            <section data-background-image="assets/background-other-sponsors.png"></section>
            <!-- SOCIALS -->
            <section data-background-image="assets/background-socials.png"></section>
        </div>
    </div>

    <script src="dist/reveal.js"></script>
    <script src="plugin/zoom/zoom.js"></script>
    <script src="plugin/highlight/highlight.js"></script>
    <script>
        Reveal.initialize({
            controls: true,
            progress: true,
            history: true,
            center: true,
            transition: "slide", // none/fade/slide/convex/concave/zoom
            backgroundTransition: "none",
            plugins: [RevealZoom, RevealHighlight],
        });
    </script>
</body>

</html>