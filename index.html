<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />

    <title>Setting up a solid GitHub CI/CD</title>

    <meta name="author" content="Hakim El Hattab" />

    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="assets/favicon.ico" />

    <link rel="stylesheet" href="dist/reset.css" />
    <link rel="stylesheet" href="dist/reveal.css" />
    <link rel="stylesheet" href="dist/theme/drupal-dev-days.css" id="theme" />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Miriam+Libre:wght@400;700&display=swap" rel="stylesheet" />

    <!-- Theme used for syntax highlighting of code -->
    <link rel="stylesheet" href="plugin/highlight/zenburn.css" />
</head>

<body>
    <div class="reveal">
        <div class="slides">
            <!-- INTRO -->
            <section data-background-image="assets/background-intro.svg" data-background-color="#000"
                data-background-position="50% 50%" data-state="intro">
                <h2>
                    <span style="color: #ff233e">Setting up</span>
                    <span style="color: #8bc53f">a solid</span>
                    <span style="color: #2aabe2">Github CI/CD</span>
                </h2>
            </section>
            <!-- ABOUT ME -->
            <section>
                <h2>Hello, nice to meet you üëã</h2>
                <ul>
                    <li>I'm a PHP developer</li>
                    <li>Employed at <span style="color: #dc1f26"><strong>Baldwin</strong></span></li>
                    <li>Long time Drupal developer</li>
                    <li>
                        Questions / Want to talk?
                        <ul class="small">
                            <li>
                                <a href="https://www.linkedin.com/in/robin-ingelbrecht/"
                                    target="_blank">https://www.linkedin.com/in/robin-ingelbrecht/</a>
                            </li>
                            <li>
                                <a href="https://github.com/robiningelbrecht"
                                    target="_blank">https://github.com/robiningelbrecht</a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </section>
            <!-- SESSION OUTLINE -->
            <section>
                <h2>Session outline</h2>
                <ul>
                    <li>Introduction to GitHub actions</li>
                    <li>Have a quick glance at the code</li>
                    <li>Setting up a repository</li>
                    <li>Configuring a CI workflow</li>
                    <li>Configuring a build & deploy workflow</li>
                    <li>Hungry for more? üçî</li>
                </ul>
            </section>
            <!-- DEMO REPOSITORY -->
            <section>
                <h2>Demo repository</h2>
                <p>A fully working example is available at <a
                        href="https://github.com/robiningelbrecht/continuous-integration-example"
                        target="_blank">https://github.com/robiningelbrecht/continuous-integration-example</a></p>
            </section>
            <!-- CI / CD -->
            <section>
                <!-- CI / CD - INTRO -->
                <section>
                    <h2>CI/CD, what's up with that?</h2>
                    <p><small>Acronyms for</small>
                    <ul>
                        <li>Continuous integration</li>
                        <li>Continuous delivery / deployment</li>
                    </ul>
                    </p>

                </section>
                <!-- CI -->
                <section>
                    <h2>Continuous integration</h2>

                    <blockquote
                        cite="https://www.atlassian.com/continuous-delivery/principles/continuous-integration-vs-delivery-vs-deployment">
                        DevOps best practice where developers <u>frequently merge</u> code changes
                        into a central repository where <u>automated builds and tests</u> run.
                    </blockquote>
                </section>
                <!-- CD -->
                <section>
                    <h2>Continuous delivery</h2>

                    <blockquote
                        cite="https://www.atlassian.com/continuous-delivery/principles/continuous-integration-vs-delivery-vs-deployment">
                        An <u>automated release</u> process where you can deploy your application any time by clicking a
                        button.
                    </blockquote>
                </section>
            </section>
            <!-- GITHUB ACTIONS -->
            <section>
                <!-- GITHUB ACTIONS - TITLE -->
                <section>
                    <h2>GitHub actions</h2>
                    <img src="assets/github-actions.png" alt="GitHub actions" width="300" />
                </section>
                <!-- GITHUB ACTIONS - INTRO -->
                <section>
                    <h2>GitHub actions</h2>
                    <p>
                        A CI/CD platform that allows you to
                    </p>
                    <ul>
                        <li>Automate your tests</li>
                        <li>Automate your builds</li>
                        <li>Automate your deployment pipeline</li>
                    </ul>
                    <p>
                        <small><a
                                href="https://docs.github.com/en/actions/learn-github-actions/understanding-github-actions"
                                target="_blank">https://docs.github.com/en/actions/learn-github-actions/understanding-github-actions</a>
                        </small>
                    </p>
                </section>
                <!-- GITHUB ACTIONS - WORKFLOWS -->
                <section>
                    <h2>Workflows</h2>
                    <ul>
                        <li>Configurable automated process (YAML)</li>
                        <li>Triggered by an event, manually, or at a defined schedule</li>
                        <li>Will run one or more jobs</li>
                    </ul>
                </section>
                <!-- GITHUB ACTIONS - RUNNERS -->
                <section>
                    <h2>Runners</h2>
                    <p>A runner is a server that runs your workflows when they're triggered</p>
                    <ul>
                        <li>Ubuntu Linux</li>
                        <li>Microsoft Windows</li>
                        <li>macOS</li>
                        <li>Self-hosted</li>
                    </ul>
                    <p><small> <a href="https://docs.github.com/en/actions/hosting-your-own-runners"
                                target="_blank">https://docs.github.com/en/actions/hosting-your-own-runners</a></small>
                    </p>
                </section>
                <!-- GITHUB ACTIONS - EVENTS -->
                <section>
                    <h2>Events</h2>
                    <p>An event is a specific activity in a repository that triggers a workflow run</p>
                    <ul>
                        <li>PR is created</li>
                        <li>Issue was openend</li>
                        <li>Commit was pushed</li>
                    </ul>
                    <p>
                        <small>
                            <a href="https://docs.github.com/en/actions/reference/events-that-trigger-workflows"
                                target="_blank">https://docs.github.com/en/actions/reference/events-that-trigger-workflows</a>
                        </small>
                    </p>
                </section>
                <!-- GITHUB ACTIONS - JOBS -->
                <section>
                    <h2>Jobs</h2>
                    <p>Contains a set of steps that execute on the same runner. Each step is either a</p>
                    <ul>
                        <li>shell script</li>
                        <li>a pre-defined action</li>
                    </ul>
                    <p>Steps are executed in order and are dependent on each other</p>
                </section>
                <!-- GITHUB ACTIONS - EXAMPLE -->
                <section>
                    <h2>Example</h2>
                    <div class="small">
                        <pre>
                            <code class="yaml" data-line-numbers data-trim data-noescape>
                                name: learn-github-actions
                                on: [push] # Event
                                jobs:
                                    install-dependencies:
                                    runs-on: ubuntu-latest # Runner
                                        steps: # Actions
                                        - name: Setup PHP 8.1 with Xdebug 3.x # Pre-defined action
                                            uses: shivammathur/setup-php@v2
                                            with:
                                            php-version: '8.1'
                                            coverage: xdebug

                                        - name: Install dependencies # Shell script
                                            run: composer install --prefer-dist                    
                            </code>
                            </pre>
                    </div>
                </section>
            </section>
            <!-- THE CODE -->
            <section>
                <!-- THE CODE - TITLE -->
                <section>
                    <h2>The code</h2>
                    <img src="assets/the-code.png" alt="The code" width="300" />
                </section>
                <!-- THE CODE - INTRO -->
                <section>
                    <h2>Pizza anyone? üçï</h2>
                    <p>Small and easy testable app to order pizza</p>
                    <ul>
                        <li>Decorator pattern</li>
                        <li>Builder Pattern</li>
                        <li>Factory Pattern</li>
                    </ul>
                    <p>
                        <small>
                            <a
                                href="https://github.com/robiningelbrecht/continuous-integration-example/tree/master/src">https://github.com/robiningelbrecht/continuous-integration-example/tree/master/src</a>
                        </small>
                    </p>
                </section>
                <!-- THE CODE - DECORATOR PATTERN -->
                <section>
                    <h2>Decorator pattern</h2>
                    <div class="small">
                        <pre>
                            <code class="php" data-line-numbers data-trim data-noescape>
                                $pizza = new ExtraCheese(new Pepperoni(new BasicPizza(Size::MEDIUM, Crust::THIN)));

                                $pizza->getPrice(); 
                                // [
                                //   "amount": "1575",
                                //   "currency": "EUR"  
                                // ]
                                        
                                $pizza->getDescription();
                                // Medium pizza, Thin crust, Tomato sauce, Cheese, Extra cheese, Pepperoni
                            </code>
                        </pre>
                    </div>
                    <blockquote>
                        <small>
                            Using decorators you can wrap objects countless number of times since both target objects
                            and
                            decorators follow the same interface. The resulting object will get a stacking behavior of
                            all wrappers.
                        </small>
                    </blockquote>
                </section>
                <!-- THE CODE - BUILDER PATTERN -->
                <section>
                    <h2>Builder pattern</h2>
                    <div class="small">
                        <pre>
                            <code class="php" data-line-numbers data-trim data-noescape>
                                $pizza = PizzaBuilder::fromSizeAndCrust(Size::MEDIUM, Crust::THIN)
                                  ->withToppings(
                                      Topping::EXTRA_CHEESE, 
                                      Topping::PEPPERONI
                                    )
                                  ->build();

                                  $pizza->getPrice(); 
                                  // [
                                  //   "amount": "1575",
                                  //   "currency": "EUR"  
                                  // ]
                                          
                                  $pizza->getDescription();
                                  // Medium pizza, Thin crust, Tomato sauce, Cheese, Extra cheese, Pepperoni                                 
                            </code>
                        </pre>
                    </div>
                    <blockquote>
                        <small>
                            Builder is a creational design pattern, which allows constructing complex objects step by
                            step.
                        </small>
                    </blockquote>
                </section>
                <!-- THE CODE - FACTORY PATTERN -->
                <section>
                    <h2>Factory pattern</h2>
                    <div class="small">
                        <pre>
                            <code class="php" data-line-numbers data-trim data-noescape>
                                  $pizza = PizzaFactory::pepperoni(Size::MEDIUM, Crust::THIN)

                                  $pizza->getPrice(); 
                                  // [
                                  //   "amount": "1575",
                                  //   "currency": "EUR"  
                                  // ]
                                          
                                  $pizza->getDescription();
                                  // Medium pizza, Thin crust, Tomato sauce, Cheese, Extra cheese, Pepperoni                                 
                            </code>
                        </pre>
                    </div>
                    <blockquote>
                        <small>
                            (Abstract) Factory is a creational design pattern, which solves the problem of creating
                            entire product families without specifying their concrete classes.
                        </small>
                    </blockquote>
                </section>
            </section>
            <!-- REPOSITORY SETTINGS -->
            <section>
                <!-- REPOSITORY SETTINGS - TITLE -->
                <section>
                    <h2>Repository settings</h2>
                    <img src="assets/git.png" alt="GIT" width="300" />
                </section>
                <!-- REPOSITORY SETTINGS - INTRO -->
                <section>
                    <h2>Configure your repository</h2>

                    <ul>
                        <li>Set up a default branch</li>
                        <li>Add branch protection rules</li>
                        <li>Configure issue & PR templates (optional)</li>
                    </ul>
                </section>
                <!-- REPOSITORY SETTINGS - DEFAULT BRANCH -->
                <section>
                    <h2>The default branch</h2>
                    <p>
                        You can set the default branch to whatever you want, but usually "main" or "master" are used.
                    </p>
                    <img src="assets/default-branch.png" alt="Default branch" />
                    <p>
                        <small>https://github.com/username/repository/settings/branches</small>
                    </p>
                </section>
                <!-- REPOSITORY SETTINGS - BRANCH PROTECTION RULES -->
                <section>
                    <h2>Branch protection rules</h2>
                    <p><small>Important to ensure code quality and have a solid CI</small></p>
                    <ul>
                        <li>Disable force pushing</li>
                        <li>Prevent branches from being deleted</li>
                        <li>Rrequire status checks before merging</li>
                    </ul>
                </section>
                <!-- REPOSITORY SETTINGS - BRANCH PROTECTION RULES -->
                <section>
                    <h2>Branch protection rules</h2>
                    <img src="assets/branch-protection-rules.png" alt="Branch protection rules" />
                    <p>
                        <small> All other options should stay unchecked... for now üòé</small>
                    </p>
                </section>
                <!-- REPOSITORY SETTINGS - ISSUE AND PR TEMPLATES -->
                <section>
                    <h2>Issue & PR templates</h2>
                    <img src="assets/issue-templates.png" alt="Issue templates" />
                    <p>Standardize the information for issues and pull requests in your repository</p>
                </section>
                <!-- REPOSITORY SETTINGS - ISSUE AND PR TEMPLATES -->
                <section>
                    <h2>Issue & PR templates</h2>
                    <img src="assets/new-issue.png" alt="New issue" />
                </section>
            </section>
            <!-- CI WORKFLOW -->
            <section>
                <!-- CI WORKFLOW - TITLE -->
                <section>
                    <h2>CI Workflow</h2>
                    <img src="assets/ci.png" alt="CI" width="600" />
                </section>
                <!-- CI WORKFLOW - INTRO -->
                <section>
                    <h2>CI Workflow</h2>
                    <p>Contains two jobs that <i>should</i> ensure code quality</p>
                    <ul>
                        <li>Test suite</li>
                        <li>PHPStan & PHPcs</li>
                    </ul>
                    <div>
                        <pre>
                            <code class="yaml" data-line-numbers data-trim data-noescape>
                                name: CI
                                on:
                                  pull_request:
                                  workflow_dispatch:                             
                            </code>
                        </pre>
                    </div>
                </section>
                <!-- CI WORKFLOW - TEST SUITE PHP -->
                <section>
                    <h2>1st job: Test suite</h2>
                    <p>Install PHP and Xdebug</p>
                    <div>
                        <pre>
                            <code class="yaml" data-line-numbers data-trim data-noescape>
                                # https://github.com/marketplace/actions/setup-php-action
                                name: Setup PHP 8.1 with Xdebug 3.x
                                uses: shivammathur/setup-php@v2
                                with:
                                  php-version: '8.1'
                                  coverage: xdebug                
                            </code>
                        </pre>
                    </div>
                    <small><a href="https://github.com/marketplace/actions/setup-php-action"
                            target="_blank">https://github.com/marketplace/actions/setup-php-action</a></small>
                </section>
                <!-- CI WORKFLOW - TEST SUITE DEPENDENCIES -->
                <section>
                    <h2>Test suite</h2>
                    <p>Pull in the code and install dependencies</p>
                    <div>
                        <pre>
                            <code class="yaml" data-line-numbers data-trim data-noescape>
                                # https://github.com/marketplace/actions/checkout
                                - name: Checkout code
                                  uses: actions/checkout@v2
                              
                                - name: Install dependencies
                                  run: composer install --prefer-dist             
                            </code>
                        </pre>
                    </div>
                    <small><a href="https://github.com/marketplace/actions/checkout"
                            target="_blank">https://github.com/marketplace/actions/checkout</a></small>
                </section>
                <!-- CI WORKFLOW - TEST SUITE RUN -->
                <section>
                    <h2>Run test suite</h2>
                    <div class="small">
                        <pre>
                            <code class="yaml" data-line-numbers data-trim data-noescape>
                              - name: Run test suite
                                run: vendor/bin/phpunit --testsuite unit --fail-on-incomplete  --log-junit junit.xml --coverage-clover clover.xml         
                            </code>
                        </pre>
                    </div>
                    <ul>
                        <li><strong>--fail-on-incomplete</strong><small>Forces PHPUnit to fail on incomplete
                                tests</small></li>
                        <li><strong>--log-junit junit.xml</strong><small>Generates XML file to publish the test
                                results</small></li>
                        <li><strong>--coverage-clover clover.xml</strong><small>Generates an XML file to check the test
                                coverage</small></li>
                    </ul>
                </section>
                <!-- CI WORKFLOW - TEST SUITE VISUALIZE -->
                <section>
                    <h2>Visualise test results</h2>
                    <div class="small">
                        <pre>
                            <code class="yaml" data-line-numbers data-trim data-noescape>
                                # https://github.com/marketplace/actions/publish-unit-test-results
                                - name: Publish test results
                                  uses: EnricoMi/publish-unit-test-result-action@v1.31
                                  if: always()
                                  with:
                                    files: "junit.xml"
                                    check_name: "Unit test results"       
                            </code>
                        </pre>
                    </div>
                    <img src="assets/unit-test-results.png" width="550" alt="Uni test results" />
                    <small><a href="https://github.com/marketplace/actions/publish-unit-test-results"
                            target="_blank">https://github.com/marketplace/actions/publish-unit-test-results</a></small>
                </section>
                <!-- CI WORKFLOW - TEST COVARGE CODECOV.IO -->
                <section>
                    <h2>Test coverage insights</h2>
                    <p>
                        with <a href="https://app.codecov.io/gh/robiningelbrecht/continuous-integration-example"
                            target="_blank">codecov.io</a>
                        and generated <strong>clover.xml</strong> report
                    </p>
                    <div>
                        <pre>
                            <code class="yaml" data-line-numbers data-trim data-noescape>
                                # https://github.com/marketplace/actions/codecov
                                - name: Send test coverage to codecov.io
                                  uses: codecov/codecov-action@v2.1.0
                                  with:
                                    files: clover.xml
                                    fail_ci_if_error: true # optional (default = false)
                                    verbose: true # optional (default = false)       
                            </code>
                        </pre>
                    </div>
                    <small><a href="https://github.com/marketplace/actions/codecov"
                            target="_blank">https://github.com/marketplace/actions/codecov</a></small>
                </section>
                <!-- CI WORKFLOW - TEST COVARGE CODECOV.IO -->
                <section>
                    <h2>Test coverage insights</h2>

                    <img src="assets/codecov-results.png" width="550" alt="Codecov results" />
                </section>
                <!-- CI WORKFLOW - MINIMUM TEST COVARGE -->
                <section>
                    <h2>Minimum test coverage</h2>
                    <p>
                        Ensure minimum test coverage across the project.
                    </p>
                    <div class="small">
                        <pre>
                            <code class="yaml" data-line-numbers data-trim data-noescape>
                                - name: Check minimum required test coverage
                                  run: |
                                    CODE_COVERAGE=$(vendor/bin/coverage-checker clover.xml 90 --processor=clover-coverage)
                                    echo ${CODE_COVERAGE}
                                    if [[ ${CODE_COVERAGE} == *"test coverage, got"* ]] ; then
                                      exit 1;
                                    fi   
                            </code>
                        </pre>
                    </div>
                    <small><a href="https://github.com/robiningelbrecht/phpunit-coverage-check"
                            target="_blank">https://github.com/robiningelbrecht/phpunit-coverage-check</a></small>
                </section>
                <!-- CI WORKFLOW - CI MATRIX -->
                <section>
                    <h2>üî•PRO tipüî•</h2>
                    <p>
                        Run your test suite against multiple PHP versions and/or operating systems
                    </p>
                    <div class="small">
                        <pre>
                            <code class="yaml" data-line-numbers data-trim data-noescape>
                                name: Test suite PHP ${{ matrix.php-versions }} on ${{ matrix.operating-system }}
                                runs-on: ${{ matrix.operating-system }}
                                strategy:
                                  matrix:
                                    operating-system: ['ubuntu-latest', 'ubuntu-18.04']
                                    php-versions: [ '7.4', '8.0', '8.1' ]
                                steps:
                                  - name: Setup PHP ${{ matrix.php-versions }} with Xdebug 3.x
                                    uses: shivammathur/setup-php@v2
                                    with:
                                      php-version: ${{ matrix.php-versions }}
                                      coverage: xdebug
                            </code>
                        </pre>
                    </div>
                </section>
                <!-- CI WORKFLOW - CI MATRIX -->
                <section>
                    <h2>üî•PRO tipüî•</h2>
                    <p>
                        This should result in a workflow run for all possible combinations in the matrix
                    </p>

                    <img src="assets/ci-matrix.png" width="400" alt="CI matrix" />
                </section>
                <!-- CI WORKFLOW - PHPSTAN / PHPCS -->
                <section>
                    <h2>2nd job: <small>Static code analysis & coding standards</small></h2>
                    <ul>
                        <li>
                            PHPStan
                            <small>PHPStan focuses on finding errors in your code without actually running it</small>
                        </li>
                        <li>
                            PHP Coding Standards Fixer
                            <small>The PHP Coding Standards Fixer (PHP CS Fixer) tool fixes your code to follow
                                standards</small>
                        </li>
                    </ul>
                </section>
                <!-- CI WORKFLOW - PHPSTAN / PHPCS PHP & DEPENDENCIES-->
                <section>
                    <h2>Install PHP & dependencies</h2>
                    <div>
                        <pre>
                            <code class="yaml" data-line-numbers data-trim data-noescape>
                                # https://github.com/marketplace/actions/setup-php-action
                                - name: Setup PHP 8.1
                                  uses: shivammathur/setup-php@v2
                                  with:
                                    php-version: '8.1'
                              
                                # https://github.com/marketplace/actions/checkout
                                - name: Checkout code
                                  uses: actions/checkout@v2
                                  
                                - name: Install dependencies
                                  run: composer install --prefer-dist
                            </code>
                        </pre>
                    </div>
                </section>
                <!-- CI WORKFLOW - RUN PHPSTAN & PHPCS -->
                <section>
                    <h2><small>Run static code analysis & coding standards</small></h2>
                    <p>Run static code analyser</p>
                    <div>
                        <pre>
                            <code class="yaml" data-line-numbers data-trim data-noescape>
                                - name: Run PHPStan
                                  run: vendor/bin/phpstan analyse
                            </code>
                        </pre>
                    </div>
                    <small><a href="https://phpstan.org/" target="_blank">https://phpstan.org/</a></small>

                    <p>Check coding standards</p>
                    <div class="small">
                        <pre>
                            <code class="yaml" data-line-numbers data-trim data-noescape>
                                - name: Run PHPcs fixer dry-run
                                  run: vendor/bin/php-cs-fixer fix --dry-run --stop-on-violation --config=.php-cs-fixer.dist.php
                            </code>
                        </pre>
                    </div>
                    <small><a href="https://github.com/FriendsOfPHP/PHP-CS-Fixer"
                            target="_blank">https://github.com/FriendsOfPHP/PHP-CS-Fixer</a></small>
                </section>
                <!-- CI WORKFLOW - UPDATE REPOSITORY SETTINGS -->
                <section>
                    <h2>Update repository settings</h2>
                    <p>
                        <small>
                            Tighten branch protection rules by adding extra required status checks<br />
                            Both jobs in CI workflow need to succeed before the PR can be merged.
                        </small>
                    </p>

                    <img src="assets/protected-branch-settings.png" / width="500" alt="Protected branch settings">
                </section>
                <!-- CI WORKFLOW - FULL EXAMPLE -->
                <section>
                    <h2>Putting it all together</h2>
                    <ul>
                        <li>
                            Complete YAML file
                            <small><a
                                    href="https://github.com/robiningelbrecht/continuous-integration-example/blob/master/.github/workflows/ci.yml"
                                    target="_blank">https://github.com/robiningelbrecht/continuous-integration-example/blob/master/.github/workflows/ci.yml</a></small>
                        </li>
                        <li>
                            Workflow examples
                            <small><a
                                    href="https://github.com/robiningelbrecht/continuous-integration-example/actions/workflows/ci.yml"
                                    target="_blank">https://github.com/robiningelbrecht/continuous-integration-example/actions/workflows/ci.yml</a></small>
                        </li>
                    </ul>
                </section>
                <!-- CI WORKFLOW - PRs -->
                <section>
                    <h2>Example pull requests</h2>
                    <ul>
                        <li>‚ùå <a href="https://github.com/robiningelbrecht/continuous-integration-example/pull/3">Failed
                                PR because of PHPStan</a></li>
                        <li>‚ùå <a href="https://github.com/robiningelbrecht/continuous-integration-example/pull/4">Failed
                                PR because of PHP coding standards</a></li>
                        <li>‚ùå <a href="https://github.com/robiningelbrecht/continuous-integration-example/pull/5">Failed
                                PR because of UnitTest</a></li>
                        <li>‚ùå <a href="https://github.com/robiningelbrecht/continuous-integration-example/pull/6">Failed
                                PR because of low test coverage</a></li>
                        <li>‚úÖ <a href="https://github.com/robiningelbrecht/continuous-integration-example/pull/7">A
                                successful pull request</a></li>
                    </ul>
                </section>
            </section>
            <!-- BUILD & DEPLOY WORKFLOW -->
            <section>
                <!-- BUILD & DEPLOY WORKFLOW - TITLE -->
                <section>
                    <h2>Build & deploy Workflow</h2>
                    <img src="assets/rocket.png" alt="Rocket" width="250" />
                </section>
                <!-- BUILD & DEPLOY WORKFLOW - INTRO -->
                <section>
                    <h2>Build & deploy Workflow</h2>
                    <p>Contains two jobs</p>
                    <ul>
                        <li>Create a build</li>
                        <li>Deploying build to a remote server</li>
                    </ul>
                    <div>
                        <pre>
                            <code class="yaml" data-line-numbers data-trim data-noescape>
                                name: Build & deploy
                                on:
                                  workflow_dispatch:                             
                            </code>
                        </pre>
                    </div>
                </section>
                <!-- BUILD & DEPLOY WORKFLOW - CREATE BUILD -->
                <section>
                    <h2>1s job: Create build</h2>
                    <p>Only run when initialized with proper branches</p>

                    <div class="small">
                        <pre>
                            <code class="yaml" data-line-numbers data-trim data-noescape>
                                if: github.ref_name == 'master' || github.ref_name == 'development'
                                name: Create build ${{ github.run_number }} for ${{ github.ref_name }}
                                runs-on: ubuntu-latest                      
                            </code>
                        </pre>
                    </div>
                </section>
                <!-- BUILD & DEPLOY WORKFLOW - CREATE BUILD -->
                <section>
                    <h2>Install PHP & dependencies</h2>

                    <div class="small">
                        <pre>
                            <code class="yaml" data-line-numbers="12" data-trim data-noescape>
                                # https://github.com/marketplace/actions/checkout
                                - name: Checkout code
                                  uses: actions/checkout@v2
                          
                                # https://github.com/marketplace/actions/setup-php-action
                                - name: Setup PHP 8.1
                                  uses: shivammathur/setup-php@v2
                                  with:
                                    php-version: '8.1'
                          
                                - name: Install dependencies
                                  run: composer install --prefer-dist --no-dev                                           
                            </code>
                        </pre>
                    </div>
                </section>
                <!-- BUILD & DEPLOY WORKFLOW - CREATE ARTIFACT -->
                <section>
                    <h2>Create atrifact</h2>

                    <div class="small">
                        <pre>
                            <code class="yaml" data-line-numbers data-trim data-noescape>
                                # https://github.com/marketplace/actions/upload-a-build-artifact
                                - name: Create artifact
                                  uses: actions/upload-artifact@v3
                                  with:
                                    name: release-${{ github.run_number }}
                                    path: |
                                      src/**
                                      vendor/**                                 
                            </code>
                        </pre>
                    </div>
                    <small><a href="https://github.com/marketplace/actions/upload-a-build-artifact"
                            target="_blank">https://github.com/marketplace/actions/upload-a-build-artifact</a></small>
                </section>
                <!-- BUILD & DEPLOY WORKFLOW - CHECK ARTIFACT -->
                <section>
                    <h2>Verify created artifacts</h2>
                    <p>
                        Can be downloaded and verified from the workflow summary page.
                    </p>
                    <img src="assets/artifacts.png" width="500" alt="Artifacts" />
                    <small><a
                            href="https://github.com/robiningelbrecht/continuous-integration-example/actions/runs/2030536472"
                            target="_blank">https://github.com/robiningelbrecht/continuous-integration-example/actions/runs/2030536472</a></small>
                </section>
            </section>
            <!-- HUNGRY FOR MORE -->
            <section>
                <!-- HUNGRY FOR MORE - INTRO -->
                <section>
                    <h2>Hungry for more?</h2>
                    <img src="assets/hungry.png" alt="Hungry" width="250" />
                </section>
            </section>
            <!-- THANK YOU - PLATINUM SPONSORS -->
            <section data-background-image="assets/background-platinum-sponsors.png"></section>
            <!-- THANK YOU - OTHER SPONSORS -->
            <section data-background-image="assets/background-other-sponsors.png"></section>
            <!-- SOCIALS -->
            <section data-background-image="assets/background-socials.png"></section>
        </div>
    </div>
    <!-- TODO: badges & Explain deploy vs release (feature flags) -->
    <script src="dist/reveal.js"></script>
    <script src="plugin/zoom/zoom.js"></script>
    <script src="plugin/highlight/highlight.js"></script>
    <script>
        Reveal.initialize({
            controls: true,
            progress: true,
            history: true,
            center: true,
            transition: "slide", // none/fade/slide/convex/concave/zoom
            backgroundTransition: "none",
            plugins: [RevealZoom, RevealHighlight],
        });
    </script>
</body>

</html>